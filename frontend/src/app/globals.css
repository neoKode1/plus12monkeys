@import "tailwindcss";

:root {
  --background: #030303;
  --foreground: #a1a1aa;
  --surface: #050505;
  --surface-hover: #080808;
  --border: #27272a;
  --border-subtle: #18181b;
  --muted: #71717a;
  --accent: #d4d4d8;
  --accent-hover: #e4e4e7;
  --success: #065f46;
  --mono-xs: 10px;
  --mono-xxs: 9px;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-inter);
  --font-mono: var(--font-jetbrains);
}

/* ── Scrollbar ── */
* {
  scrollbar-width: thin;
  scrollbar-color: #27272a transparent;
}
*::-webkit-scrollbar { width: 4px; }
*::-webkit-scrollbar-track { background: transparent; }
*::-webkit-scrollbar-thumb { background: #27272a; border-radius: 2px; }

html, body {
  overflow-x: hidden;
  -webkit-overflow-scrolling: touch;
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans), system-ui, -apple-system, sans-serif;
}

/* ── Noise Overlay ── */
.noise-overlay {
  position: fixed;
  inset: 0;
  pointer-events: none;
  z-index: 50;
  opacity: 0.07;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.8' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)'/%3E%3C/svg%3E");
  mix-blend-mode: overlay;
}

/* ── Vignette ── */
.vignette {
  position: fixed;
  inset: 0;
  box-shadow: inset 0 0 150px rgba(0,0,0,0.9);
  pointer-events: none;
  z-index: 49;
}

/* ── Scan Line ── */
@keyframes scan {
  0% { transform: translateY(-100%); }
  100% { transform: translateY(100%); }
}
.scan-line {
  position: absolute;
  top: 0; left: 0;
  width: 100%; height: 2px;
  background: rgba(255,255,255,0.06);
  animation: scan 6s linear infinite;
  z-index: 10;
  pointer-events: none;
}

/* ── Reveal Animation ── */
.reveal-text {
  animation: fade-in 1.5s cubic-bezier(0.16,1,0.3,1) forwards;
  opacity: 0;
  transform: translateY(10px);
}
@keyframes fade-in {
  to { opacity: 1; transform: translateY(0); }
}

/* ── Glitch Hover ── */
.glitch-hover:hover {
  animation: shake 0.3s cubic-bezier(.36,.07,.19,.97) both;
}
@keyframes shake {
  10%, 90% { transform: translate3d(-1px,0,0); }
  20%, 80% { transform: translate3d(2px,0,0); }
  30%, 50%, 70% { transform: translate3d(-2px,0,0); }
  40%, 60% { transform: translate3d(2px,0,0); }
}

/* ── Typing dots ── */
@keyframes blink {
  0%, 80%, 100% { opacity: 0.2; }
  40% { opacity: 1; }
}
.typing-dot { animation: blink 1.4s infinite both; }
.typing-dot:nth-child(2) { animation-delay: 0.2s; }
.typing-dot:nth-child(3) { animation-delay: 0.4s; }

/* ── Message fade-in ── */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(8px); }
  to { opacity: 1; transform: translateY(0); }
}
.msg-enter { animation: fadeInUp 0.3s ease-out; }

/* ── Typewriter cursor ── */
@keyframes cursorBlink {
  0%, 100% { opacity: 1; }
  50% { opacity: 0; }
}
.typewriter-cursor::after {
  content: "▊";
  color: #d4d4d8;
  animation: cursorBlink 0.8s step-end infinite;
  margin-left: 1px;
  font-size: 0.9em;
}

/* ── Progress stepper ── */
.step-active { color: #d4d4d8; }
.step-done { color: #065f46; }
.step-connector { transition: background 0.5s ease; }

/* ── Assistant markdown content ── */
.assistant-content ul { list-style: disc; padding-left: 1.25rem; margin: 0.5rem 0; }
.assistant-content ol { list-style: decimal; padding-left: 1.25rem; margin: 0.5rem 0; }
.assistant-content li { margin: 0.25rem 0; }
.assistant-content strong { color: #d4d4d8; font-weight: 600; }
.assistant-content a { color: #a1a1aa; text-decoration: underline; text-underline-offset: 2px; }
.assistant-content a:hover { color: #d4d4d8; }
.assistant-content code {
  background: #0a0a0a;
  padding: 0.125rem 0.375rem;
  border-radius: 2px;
  font-size: 0.85em;
  font-family: var(--font-mono), monospace;
  border: 1px solid #18181b;
}
.assistant-content pre {
  background: #050505;
  padding: 1rem;
  border-radius: 0;
  overflow-x: auto;
  margin: 0.75rem 0;
  border: 1px solid #27272a;
}
.assistant-content p + p { margin-top: 0.75rem; }
.assistant-content h1,
.assistant-content h2,
.assistant-content h3,
.assistant-content h4 { color: #d4d4d8; font-weight: 500; margin-top: 1rem; margin-bottom: 0.5rem; }
.assistant-content blockquote {
  border-left: 2px solid #27272a;
  padding-left: 0.75rem;
  color: #71717a;
  margin: 0.5rem 0;
}
